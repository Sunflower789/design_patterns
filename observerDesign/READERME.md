## 一、什么是观察者设计模式？

用于定义对象之间的一对多依赖关系，以便当一个对象的状态发生变化时，其所有依赖对象都会自动得到通知并更新。这种模式被称为"发布-订阅"模式，其中一个对象（被观察者或主题）维护一个订阅者（观察者）列表，当被观察者状态发生变化时，通知所有观察者。

## 二、实现的组成元素有哪些

**被观察者（发布者）**：被观察者维护一个观察者列表，并提供方法来注册、注销和通知观察者。当被观察者状态发生变化时，会通知所有注册的观察者。

**观察者（订阅者）**：观察者是依赖于被观察者的对象，它实现了一个更新方法，该方法在被观察者状态发生变化时被调用。观察者可以注册到一个或多个被观察者。



## 三、观察者模式的使用场景有哪些？

当一个对象状态发生变化需要通知多个对象时。

当一个对象状态发生变化，其它单个或多个对象也需要发生变化（可能比较复杂且多个不同动作）时，可以解耦观察者和被观察者。

当你希望添加新的观察者而不需要修改被观察者的代码时，观察者模式支持动态注册和注销观察者。

## 四、观察者模式使用的优缺点有哪些？

优点：实现松耦合（被观察者和观察者之间的关系是松散的，被观察者不需要知道观察者的具体类别，从而提高了系统的可维护性和扩展性。）

实现一对多。

实现依赖反转。（被观察者是高层模块，观察者是低层模块，这符合依赖关系反转原则）

缺点：如果观察者很多，通知所有观察者可能会导致性能问题。在这种情况下，需要小心处理通知机制，可以考虑异步通知或消息队列等方法来提高性能。